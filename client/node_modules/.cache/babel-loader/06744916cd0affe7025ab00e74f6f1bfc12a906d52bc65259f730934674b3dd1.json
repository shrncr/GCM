{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lovey\\\\OneDrive\\\\Desktop\\\\GCM\\\\client\\\\src\\\\components\\\\map.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_KEY = process.env.REACT_APP_GOOGLE_MAPS_API_KEY;\nexport default function Map(props) {\n  _s();\n  const tampa = {\n    lat: 27.9469,\n    lng: -82.4672\n  };\n  const [markerPosition, setMarkerPosition] = useState(tampa);\n  const [canDrag, setDrag] = useState(true);\n  const [mapCenter, setMapCenter] = useState(tampa);\n\n  //sending users cordinates to backend\n  function handleCanDrag() {\n    setDrag(false);\n    setMapCenter(markerPosition);\n  }\n  useEffect(() => {\n    let map;\n    let marker;\n\n    // Function to initialize the map\n    window.initMap = () => {\n      map = new window.google.maps.Map(document.getElementById(\"map\"), {\n        center: mapCenter,\n        zoom: 12,\n        minZoom: 12\n      });\n      marker = new window.google.maps.Marker({\n        position: markerPosition,\n        map: map,\n        title: \"choice\",\n        draggable: false\n      });\n\n      //creating a marker for the image if the user is not guessing\n      if (canDrag === false) {\n        new window.google.maps.Marker({\n          position: imageCords,\n          map: map,\n          title: \"image\",\n          draggable: canDrag\n        });\n      }\n      marker.addListener(\"dragend\", handleMarkerDragEnd);\n    };\n    function handleMarkerDragEnd(event) {\n      const {\n        latLng\n      } = event;\n      const lat = latLng.lat();\n      const lng = latLng.lng();\n      setMarkerPosition({\n        lat,\n        lng\n      });\n    }\n    const script = document.createElement(\"script\");\n    script.src = `https://maps.googleapis.com/maps/api/js?key=${API_KEY}&callback=initMap`;\n    script.defer = true;\n    script.async = true;\n    document.head.appendChild(script);\n  }, [canDrag]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"map\",\n    className: \"map\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 13\n  }, this);\n}\n_s(Map, \"wFyCv/haPq5pD4OpSAAyUc1GRpA=\");\n_c = Map;\nvar _c;\n$RefreshReg$(_c, \"Map\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","API_KEY","process","env","REACT_APP_GOOGLE_MAPS_API_KEY","Map","props","_s","tampa","lat","lng","markerPosition","setMarkerPosition","canDrag","setDrag","mapCenter","setMapCenter","handleCanDrag","map","marker","window","initMap","google","maps","document","getElementById","center","zoom","minZoom","Marker","position","title","draggable","imageCords","addListener","handleMarkerDragEnd","event","latLng","script","createElement","src","defer","async","head","appendChild","id","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/lovey/OneDrive/Desktop/GCM/client/src/components/map.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nconst API_KEY = process.env.REACT_APP_GOOGLE_MAPS_API_KEY;\r\n\r\nexport default function Map(props) {\r\n\r\n  const tampa = {lat: 27.9469,lng: -82.4672,};\r\n\r\n\r\n  const [markerPosition, setMarkerPosition] = useState(tampa);\r\n  const [canDrag, setDrag] = useState(true);\r\n  const [mapCenter, setMapCenter] = useState(tampa);\r\n\r\n\r\n  //sending users cordinates to backend\r\n  function handleCanDrag() {\r\n    setDrag(false);\r\n    setMapCenter(markerPosition);\r\n  }\r\n\r\n  useEffect(() => {\r\n    let map;\r\n    let marker;\r\n\r\n    // Function to initialize the map\r\n    window.initMap = () => {\r\n      map = new window.google.maps.Map(document.getElementById(\"map\"), {\r\n        center: mapCenter,\r\n        zoom: 12,\r\n        minZoom: 12\r\n      });\r\n\r\n      marker = new window.google.maps.Marker({\r\n        position: markerPosition,\r\n        map: map,\r\n        title: \"choice\",\r\n        draggable: false,\r\n      });\r\n  \r\n      //creating a marker for the image if the user is not guessing\r\n      if (canDrag === false) {\r\n        new window.google.maps.Marker({\r\n          position: imageCords,\r\n          map: map,\r\n          title: \"image\",\r\n          draggable: canDrag,\r\n        })\r\n\r\n      }\r\n\r\n      marker.addListener(\"dragend\", handleMarkerDragEnd);\r\n    }\r\n\r\n    function handleMarkerDragEnd(event) {\r\n      const { latLng } = event;\r\n      const lat = latLng.lat();\r\n      const lng = latLng.lng();\r\n\r\n      setMarkerPosition({ lat, lng });\r\n    }\r\n\r\n    const script = document.createElement(\"script\");\r\n    script.src = `https://maps.googleapis.com/maps/api/js?key=${API_KEY}&callback=initMap`;\r\n    script.defer = true;\r\n    script.async = true;\r\n    document.head.appendChild(script);\r\n\r\n  },[canDrag]);\r\n\r\n  return (\r\n            <div id=\"map\" className=\"map\"></div>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AACnD,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,6BAA6B;AAEzD,eAAe,SAASC,GAAGA,CAACC,KAAK,EAAE;EAAAC,EAAA;EAEjC,MAAMC,KAAK,GAAG;IAACC,GAAG,EAAE,OAAO;IAACC,GAAG,EAAE,CAAC;EAAQ,CAAC;EAG3C,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAGd,QAAQ,CAACU,KAAK,CAAC;EAC3D,MAAM,CAACK,OAAO,EAAEC,OAAO,CAAC,GAAGhB,QAAQ,CAAC,IAAI,CAAC;EACzC,MAAM,CAACiB,SAAS,EAAEC,YAAY,CAAC,GAAGlB,QAAQ,CAACU,KAAK,CAAC;;EAGjD;EACA,SAASS,aAAaA,CAAA,EAAG;IACvBH,OAAO,CAAC,KAAK,CAAC;IACdE,YAAY,CAACL,cAAc,CAAC;EAC9B;EAEAd,SAAS,CAAC,MAAM;IACd,IAAIqB,GAAG;IACP,IAAIC,MAAM;;IAEV;IACAC,MAAM,CAACC,OAAO,GAAG,MAAM;MACrBH,GAAG,GAAG,IAAIE,MAAM,CAACE,MAAM,CAACC,IAAI,CAAClB,GAAG,CAACmB,QAAQ,CAACC,cAAc,CAAC,KAAK,CAAC,EAAE;QAC/DC,MAAM,EAAEX,SAAS;QACjBY,IAAI,EAAE,EAAE;QACRC,OAAO,EAAE;MACX,CAAC,CAAC;MAEFT,MAAM,GAAG,IAAIC,MAAM,CAACE,MAAM,CAACC,IAAI,CAACM,MAAM,CAAC;QACrCC,QAAQ,EAAEnB,cAAc;QACxBO,GAAG,EAAEA,GAAG;QACRa,KAAK,EAAE,QAAQ;QACfC,SAAS,EAAE;MACb,CAAC,CAAC;;MAEF;MACA,IAAInB,OAAO,KAAK,KAAK,EAAE;QACrB,IAAIO,MAAM,CAACE,MAAM,CAACC,IAAI,CAACM,MAAM,CAAC;UAC5BC,QAAQ,EAAEG,UAAU;UACpBf,GAAG,EAAEA,GAAG;UACRa,KAAK,EAAE,OAAO;UACdC,SAAS,EAAEnB;QACb,CAAC,CAAC;MAEJ;MAEAM,MAAM,CAACe,WAAW,CAAC,SAAS,EAAEC,mBAAmB,CAAC;IACpD,CAAC;IAED,SAASA,mBAAmBA,CAACC,KAAK,EAAE;MAClC,MAAM;QAAEC;MAAO,CAAC,GAAGD,KAAK;MACxB,MAAM3B,GAAG,GAAG4B,MAAM,CAAC5B,GAAG,CAAC,CAAC;MACxB,MAAMC,GAAG,GAAG2B,MAAM,CAAC3B,GAAG,CAAC,CAAC;MAExBE,iBAAiB,CAAC;QAAEH,GAAG;QAAEC;MAAI,CAAC,CAAC;IACjC;IAEA,MAAM4B,MAAM,GAAGd,QAAQ,CAACe,aAAa,CAAC,QAAQ,CAAC;IAC/CD,MAAM,CAACE,GAAG,GAAI,+CAA8CvC,OAAQ,mBAAkB;IACtFqC,MAAM,CAACG,KAAK,GAAG,IAAI;IACnBH,MAAM,CAACI,KAAK,GAAG,IAAI;IACnBlB,QAAQ,CAACmB,IAAI,CAACC,WAAW,CAACN,MAAM,CAAC;EAEnC,CAAC,EAAC,CAACzB,OAAO,CAAC,CAAC;EAEZ,oBACUb,OAAA;IAAK6C,EAAE,EAAC,KAAK;IAACC,SAAS,EAAC;EAAK;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAM,CAAC;AAEhD;AAAC3C,EAAA,CApEuBF,GAAG;AAAA8C,EAAA,GAAH9C,GAAG;AAAA,IAAA8C,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}